---
import Layout from '../layouts/Layout.astro';
import '../styles/global.css';
---

<Layout title="Delete Account - FRNDSAPP" description="Delete your FRNDSAPP account or request data deletion.">
  <section class="pt-32 pb-20">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
      <!-- Header -->
      <div class="text-center mb-12">
        <div class="inline-flex items-center justify-center w-20 h-20 rounded-full bg-red-500/20 border border-red-500/30 mb-6">
          <span class="text-4xl">üóëÔ∏è</span>
        </div>
        <h1 class="text-3xl md:text-4xl font-display font-bold mb-4 text-white">
          Delete Your Account
        </h1>
        <p class="text-text-secondary text-lg">
          You can delete your data or entire account anytime.
        </p>
      </div>

      <!-- Two Methods -->
      <div class="space-y-8">
        
        <!-- Method 1: In-App (When you have access) -->
        <div class="glass-card border border-white/10 rounded-2xl p-6 md:p-8">
          <div class="flex items-center gap-4 mb-6">
            <div class="w-12 h-12 rounded-full bg-green-500/20 flex items-center justify-center flex-shrink-0">
              <span class="text-2xl">üì±</span>
            </div>
            <div>
              <h2 class="text-xl font-display font-bold text-green-400">If You Have Access to the App</h2>
              <p class="text-text-secondary text-sm">Logged in and can open FRNDSAPP</p>
            </div>
          </div>

          <div class="space-y-6">
            <!-- Delete Specific Data -->
            <div class="bg-white/5 rounded-xl p-5 border border-white/10">
              <h3 class="text-lg font-semibold text-green-400 mb-3">Delete Specific Data</h3>
              <ol class="text-text-secondary text-sm space-y-2">
                <li class="flex items-start gap-2">
                  <span class="text-green-400 font-bold">1.</span>
                  <span>Open FRNDSAPP ‚Üí <strong class="text-white">Settings</strong></span>
                </li>
                <li class="flex items-start gap-2">
                  <span class="text-green-400 font-bold">2.</span>
                  <span>Go to <strong class="text-white">Chats</strong> or <strong class="text-white">Privacy</strong></span>
                </li>
                <li class="flex items-start gap-2">
                  <span class="text-green-400 font-bold">3.</span>
                  <span>Select what to delete (chat history, media, etc.)</span>
                </li>
                <li class="flex items-start gap-2">
                  <span class="text-green-400 font-bold">4.</span>
                  <span>Confirm deletion</span>
                </li>
              </ol>
            </div>

            <!-- Delete Entire Account -->
            <div class="bg-white/5 rounded-xl p-5 border border-white/10">
              <h3 class="text-lg font-semibold text-red-400 mb-3">Delete Entire Account</h3>
              <ol class="text-text-secondary text-sm space-y-2">
                <li class="flex items-start gap-2">
                  <span class="text-green-400 font-bold">1.</span>
                  <span>Open FRNDSAPP ‚Üí <strong class="text-white">Settings</strong></span>
                </li>
                <li class="flex items-start gap-2">
                  <span class="text-green-400 font-bold">2.</span>
                  <span>Go to <strong class="text-white">Account</strong></span>
                </li>
                <li class="flex items-start gap-2">
                  <span class="text-green-400 font-bold">3.</span>
                  <span>Tap <strong class="text-white">Delete My Account</strong></span>
                </li>
                <li class="flex items-start gap-2">
                  <span class="text-green-400 font-bold">4.</span>
                  <span>Confirm with your phone number</span>
                </li>
                <li class="flex items-start gap-2">
                  <span class="text-green-400 font-bold">5.</span>
                  <span>Tap <strong class="text-red-400">Delete My Account</strong></span>
                </li>
              </ol>
              <p class="text-xs text-accent mt-3">‚úì Your account and all data will be deleted immediately.</p>
            </div>
          </div>
        </div>

        <!-- Method 2: Lost Phone / Can't Access App -->
        <div class="glass-card border border-white/10 rounded-2xl p-6 md:p-8">
          <div class="flex items-center gap-4 mb-6">
            <div class="w-12 h-12 rounded-full bg-orange-500/20 flex items-center justify-center flex-shrink-0">
              <span class="text-2xl">üìµ</span>
            </div>
            <div>
              <h2 class="text-xl font-display font-bold text-orange-400">Lost Phone or Can't Access App</h2>
              <p class="text-text-secondary text-sm">Request account deactivation via email or SMS</p>
            </div>
          </div>

          <div class="bg-white/5 rounded-xl p-5 mb-6 border border-white/10">
            <h3 class="text-lg font-semibold text-orange-400 mb-3">How It Works</h3>
            <ol class="text-text-secondary text-sm space-y-3">
              <li class="flex items-start gap-3">
                <span class="w-6 h-6 rounded-full bg-orange-500/20 flex items-center justify-center text-orange-400 font-bold text-xs flex-shrink-0">1</span>
                <span><strong class="text-white">Email us from your registered email</strong> OR <strong class="text-white">SMS us from your registered phone</strong> ‚Äî mention your phone number with country code (e.g., +91 98765 43210)</span>
              </li>
              <li class="flex items-start gap-3">
                <span class="w-6 h-6 rounded-full bg-orange-500/20 flex items-center justify-center text-orange-400 font-bold text-xs flex-shrink-0">2</span>
                <span>We'll <strong class="text-white">deactivate</strong> your account from our servers</span>
              </li>
              <li class="flex items-start gap-3">
                <span class="w-6 h-6 rounded-full bg-orange-500/20 flex items-center justify-center text-orange-400 font-bold text-xs flex-shrink-0">3</span>
                <span>After <strong class="text-white">90 days</strong> of inactivity, all your data on our servers will be <strong class="text-red-400">permanently deleted</strong></span>
              </li>
            </ol>
          </div>

          <!-- Verification Note -->
          <div class="bg-primary/10 border border-primary/30 rounded-xl p-4 mb-6">
            <h4 class="font-semibold text-primary mb-2 flex items-center gap-2">
              <span>üîí</span> Verification
            </h4>
            <p class="text-text-secondary text-sm">
              We verify ownership by checking if email/SMS comes from your <strong class="text-white">registered email or phone number</strong>. 
              In case of any doubt, we may ask security questions or call you back to confirm.
            </p>
          </div>

          <!-- Deactivation Info -->
          <div class="bg-yellow-500/10 border border-yellow-500/30 rounded-xl p-4 mb-6">
            <h4 class="font-semibold text-yellow-400 mb-2 flex items-center gap-2">
              <span>‚è≥</span> What happens during deactivation?
            </h4>
            <ul class="text-text-secondary text-sm space-y-1">
              <li>‚Ä¢ Your profile becomes invisible to other users</li>
              <li>‚Ä¢ You won't receive any messages or notifications</li>
              <li>‚Ä¢ You can reactivate within 90 days by logging in on a new device</li>
              <li>‚Ä¢ After 90 days ‚Äî all server data permanently deleted</li>
            </ul>
          </div>

          <!-- Important Note -->
          <div class="bg-blue-500/10 border border-blue-500/30 rounded-xl p-4 mb-6">
            <h4 class="font-semibold text-blue-400 mb-2 flex items-center gap-2">
              <span>‚ÑπÔ∏è</span> Important Note
            </h4>
            <p class="text-text-secondary text-sm">
              This deletes your data from <strong class="text-white">our servers only</strong>. Any local data on your lost phone remains there ‚Äî we cannot remotely wipe it. If you recover your phone, uninstall the app to remove local data.
            </p>
          </div>

          <!-- Contact Options -->
          <div class="space-y-4">
            <h3 class="text-lg font-semibold text-orange-400">Request Deactivation</h3>
            
            <div class="grid md:grid-cols-2 gap-3">
              <a href="mailto:info@frndsapp.com?subject=Deactivate%20My%20FRNDSAPP%20Account&body=Please%20deactivate%20my%20FRNDSAPP%20account.%0A%0AMy%20phone%20number%20(with%20country%20code)%3A%20%0A%0AI%20lost%20access%20to%20my%20phone%20%2F%20cannot%20access%20the%20app.%0A%0AI%20understand%20my%20account%20will%20be%20deactivated%20and%20deleted%20from%20servers%20after%2090%20days." 
                 class="flex items-center justify-center gap-2 w-full bg-gradient-to-r from-orange-500 to-red-500 text-white px-4 py-3 rounded-xl font-medium hover:opacity-90 transition-opacity">
                <span class="text-xl">‚úâÔ∏è</span>
                Email Request
              </a>
              <a href="sms:+919876543210?body=DEACTIVATE%20my%20FRNDSAPP%20account.%20My%20number%3A%20" 
                 class="flex items-center justify-center gap-2 w-full bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-4 py-3 rounded-xl font-medium hover:opacity-90 transition-opacity">
                <span class="text-xl">üí¨</span>
                SMS Request
              </a>
            </div>

            <p class="text-text-secondary text-xs text-center">
              Send from your <strong class="text-white">registered email or phone</strong>. Include your phone number with country code.
            </p>
          </div>

          <!-- Or use form -->
          <div class="mt-6 pt-6 border-t border-white/10">
            <h4 class="text-sm font-semibold text-text-secondary mb-4">Or fill this form:</h4>
            <form id="deactivation-form" class="space-y-4">
              <div>
                <label class="block text-sm text-text-secondary mb-2">Your Registered Phone Number *</label>
                <input type="tel" required id="phone-number"
                       class="w-full bg-white/5 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-text-secondary focus:outline-none focus:border-orange-500 transition-colors"
                       placeholder="+91 98765 43210">
              </div>
              <div>
                <label class="block text-sm text-text-secondary mb-2">Your Registered Email *</label>
                <input type="email" required id="email-address"
                       class="w-full bg-white/5 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-text-secondary focus:outline-none focus:border-orange-500 transition-colors"
                       placeholder="your@email.com">
              </div>
              <div class="flex items-start gap-3">
                <input type="checkbox" required id="confirm-deactivation" class="mt-1 accent-orange-500">
                <label for="confirm-deactivation" class="text-sm text-text-secondary">
                  I understand my account will be deactivated and <strong class="text-white">server data deleted after 90 days</strong>.
                </label>
              </div>
              <button type="submit" 
                      class="w-full bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-xl font-medium transition-colors">
                Request Deactivation
              </button>
            </form>
          </div>
        </div>

        <!-- What Gets Deleted -->
        <div class="glass-card border border-white/10 rounded-2xl p-6 md:p-8">
          <h2 class="text-xl font-display font-bold text-red-400 mb-6 flex items-center gap-3">
            <span class="text-2xl">üìã</span>
            What Gets Deleted
          </h2>
          <div class="grid md:grid-cols-2 gap-4">
            <ul class="space-y-2 text-text-secondary text-sm">
              <li class="flex items-center gap-2"><span class="text-red-400">‚úì</span> Your profile & photos</li>
              <li class="flex items-center gap-2"><span class="text-red-400">‚úì</span> All messages & chats</li>
              <li class="flex items-center gap-2"><span class="text-red-400">‚úì</span> Matches & connections</li>
            </ul>
            <ul class="space-y-2 text-text-secondary text-sm">
              <li class="flex items-center gap-2"><span class="text-red-400">‚úì</span> Spaces you created</li>
              <li class="flex items-center gap-2"><span class="text-red-400">‚úì</span> Face verification data</li>
              <li class="flex items-center gap-2"><span class="text-red-400">‚úì</span> All settings & preferences</li>
            </ul>
          </div>
          <p class="text-xs text-text-secondary mt-4">
            Note: Messages you sent to others remain on their devices (they keep their copy, encrypted).
          </p>
        </div>

      </div>

      <!-- Contact Support -->
      <div class="mt-8 text-center">
        <p class="text-text-secondary mb-2">Need help?</p>
        <a href="mailto:info@frndsapp.com" class="text-primary hover:text-primary/80 transition-colors font-medium">
          info@frndsapp.com
        </a>
      </div>

      <!-- Back Link -->
      <div class="text-center mt-6">
        <a href="/" class="text-text-secondary hover:text-white transition-colors text-sm">
          ‚Üê Back to Home
        </a>
      </div>
    </div>
  </section>

  <script>
    const form = document.getElementById('deactivation-form');
    if (form) {
      form.addEventListener('submit', (e) => {
        e.preventDefault();
        
        const phone = (document.getElementById('phone-number') as HTMLInputElement)?.value;
        const email = (document.getElementById('email-address') as HTMLInputElement)?.value;
        
        const subject = encodeURIComponent('Deactivate My FRNDSAPP Account');
        const body = encodeURIComponent(
          `Please deactivate my FRNDSAPP account.\n\n` +
          `My registered phone number: ${phone}\n` +
          `My registered email: ${email}\n\n` +
          `I lost access to my phone / cannot access the app.\n\n` +
          `I understand my account will be deactivated and deleted from servers after 90 days.`
        );
        
        window.location.href = `mailto:info@frndsapp.com?subject=${subject}&body=${body}`;
        alert('Your email client will open. Send the email and we will deactivate your account.');
      });
    }
  </script>
</Layout>
